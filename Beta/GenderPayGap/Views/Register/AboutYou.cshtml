@{
    ViewBag.Title = "About you - Gender pay gap reporting service";
}
@model GenderPayGap.WebUI.Models.Register.RegisterViewModel
@using Extensions
@using GenderPayGap.WebUI.Classes
<main id="content" role="main">
    <div class="grid-row">
        <div class="column-two-thirds">
        @using (Html.BeginForm())
        {
            @Html.CustomValidationSummary()
            @Html.AntiForgeryToken()
            @Html.SpamProtectionTimeStamp()
            @Html.HiddenFor(m => m.IdentityProvider)
            <h1 class="heading-large">
                About you
            </h1>
            if (!User.Identity.IsAuthenticated)
            {
                <p>If you already have an account, please @Html.ActionLink("sign in", "EnterCalculations", "Submit").</p>
            }

                <h2 class="heading-medium">Email address</h2>
                <legend class="visuallyhidden">Email</legend>
                <p>Enter an email address that you can access. The service will send you an email to verify your identity.</p>
                <fieldset>
                    <div class="form-group @Html.SetErrorClass(model => model.EmailAddress,"error") ">
                        @Html.LabelFor(model => model.EmailAddress, "Enter your email address", htmlAttributes: new { @class = "form-label col-md-10" })
                        @Html.ValidationMessageFor(model => model.EmailAddress,null,new { @class = "error-danger" })
                        <div class="col-md-10">
                            @Html.CustomEditorFor(model => model.EmailAddress, htmlAttributes: new { @type = "email", @class = "form-control"})
                        </div>
                    </div>
                    <div class="form-group @Html.SetErrorClass(model => model.ConfirmEmailAddress,"error") ">
                        @Html.LabelFor(model => model.ConfirmEmailAddress, "Confirm your email address", htmlAttributes: new { @class = "form-label col-md-10" })
                        @Html.ValidationMessageFor(model => model.ConfirmEmailAddress, "", new { @class = "error-danger" })
                        <div class="col-md-10">
                            @Html.CustomEditorFor(model => model.ConfirmEmailAddress,htmlAttributes:new { @type = "email", @class = "form-control" })
                        </div>
                    </div>
                </fieldset>

                <h2 class="heading-medium">Your details</h2>

                <fieldset>
                    <legend class="visuallyhidden">Email</legend>
                    <p>Enter your name and job title.</p>
                    <div class="form-group @Html.SetErrorClass(model => model.FirstName,"error") ">
                        @Html.LabelFor(model => model.FirstName, "First name", htmlAttributes: new { @class = "form-label col-md-10" })
                        @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "error-danger" })
                        <div class="col-md-10">
                            @Html.CustomEditorFor(model => model.FirstName, htmlAttributes: new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group @Html.SetErrorClass(model => model.LastName,"error") ">
                        @Html.LabelFor(model => model.LastName, "Last name", htmlAttributes: new { @class = "form-label col-md-10" })
                        @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "error-danger" })
                        <div class="col-md-10">
                            @Html.CustomEditorFor(model => model.LastName, htmlAttributes: new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group @Html.SetErrorClass(model => model.JobTitle,"error") ">
                        @Html.LabelFor(model => model.JobTitle, "Job title", htmlAttributes: new { @class = "form-label col-md-10" })
                        @Html.ValidationMessageFor(model => model.JobTitle, "", new { @class = "error-danger" })
                        <div class="col-md-10">
                            @Html.CustomEditorFor(model => model.JobTitle, htmlAttributes: new { @class = "form-control" })
                        </div>
                    </div>
                </fieldset>

                if (!User.Identity.IsAuthenticated || Model.IdentityProvider.EqualsI("GPG"))
                {
                    <h2 class="heading-medium">Create password</h2>
                    <fieldset>
                        <legend class="visuallyhidden">Password</legend>
                        <div class="text">
                            <p>Your password must be at least 8 characters long.</p>
                            <p>It must also have at least one of the following:</p>
                            <ul class="list list-bullet">
                                <li>lower-case letter</li>
                                <li>capital letter and</li>
                                <li>number</li>
                            </ul>
                        </div>
                        <div class="form-group @Html.SetErrorClass(model => model.Password,"error") ">
                            @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "form-label col-md-10" })
                            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "error-danger" })
                            <div class="col-md-10">
                                @Html.CustomEditorFor(model => model.Password, htmlAttributes: new { @class = "form-control" })
                            </div>
                        </div>
                        <div class="form-group @Html.SetErrorClass(model => model.ConfirmPassword,"error") ">
                            @Html.LabelFor(model => model.ConfirmPassword, htmlAttributes: new { @class = "form-label col-md-10" })
                            @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "error-danger" })
                            <div class="col-md-10">
                                @Html.CustomEditorFor(model => model.ConfirmPassword, htmlAttributes: new { @class = "form-control" })
                            </div>
                        </div>
                    </fieldset>
                }
                <fieldset>
                    <div class="form-group">
                        <input type="submit" class="button" value="Continue" />
                    </div>
                </fieldset>
            }
        </div>
    </div>
</main>
